PIO		EQU	30H
	
		ORG	1000H
NUM		DB	5
CAR		DB	?

		ORG 3000H
INIIMP:	MOV	AL,0FDH
		OUT	PIO+2,AL
		MOV	AL,0
		OUT	PIO+3,AL
		IN 	AL,PIO
		AND	AL,0FDH
		OUT	PIO,AL
		RET

		ORG 4000H
PULSO:	IN 	AL,PIO
		OR 	AL,02H
		OUT PIO,AL
		IN  AL,PIO
		AND AL,0FDH
		OUT PIO,AL
		RET

		ORG 2000H
		PUSH AX
		CALL INIIMP
		POP	AX
		MOV BX,OFFSET CAR
		MOV CL,NUM
LAZO:	INT 6
POLL:	IN 	AL,PIO
		AND	AL,0FDH
		JNZ POLL
		MOV	AL,[BX]
		OUT	PIO+1,AL
		PUSH AX
		CALL PULSO
		POP AX
		DEC CL
		JNZ POLL
		INT 0

		END	
